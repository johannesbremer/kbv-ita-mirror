
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<artifactId>xpm-ldk</artifactId>
	<version>2.19.1</version>

	<parent>
		<groupId>de.kbv.xpm</groupId>
		<artifactId>xpm-parent</artifactId>
		<version>0.0.13</version>
	</parent>

	<properties>
		<schnittstellenVersion>3.2.19</schnittstellenVersion>
		<quartalVar>4</quartalVar>
		<jahrVar>2025</jahrVar>
		<pruefmodulTyp>LDK</pruefmodulTyp>
		<modulDataContainerName>ldk_tabelle</modulDataContainerName>
		<coreVersion>4.2.37</coreVersion>
		<project.build.sourceEncoding>iso-8859-1</project.build.sourceEncoding>
		<project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
		<maven.compiler.source>17</maven.compiler.source>
		<maven.compiler.target>17</maven.compiler.target>
		<maven.build.timestamp.format>yyyyMMdd'T'HHmmss</maven.build.timestamp.format>
		<log4j-api.version>2.17.2</log4j-api.version>
		<log4j-core.version>2.17.2</log4j-core.version>
		<xpmJavaVersionCheckVersion>1.0.2</xpmJavaVersionCheckVersion>
		<bcprov-jdk18on.version>1.81</bcprov-jdk18on.version>
	</properties>
	<profiles>
		<profile>
			<!-- mvn package -Pgenerate-stamm-all | mvn package -P!generate-stamm-all -->
			<id>generate-stamm-all</id>
			<build>
				<plugins>
					<plugin>
						<groupId>org.codehaus.mojo</groupId>
						<artifactId>exec-maven-plugin</artifactId>
						<version>1.6.0</version>
						<executions>
							<!-- muss nur aktiviert werden wenn sich Stammdateien, Jasper Reports,
								XPMAdapter Klasse, oder XDT-Schema geändert haben -->
							<execution>
								<id>build-stamm-haupt</id>
								<phase>process-classes</phase>
								<goals>
									<goal>exec</goal>
								</goals>
								<configuration>
									<executable>java</executable>
									<arguments> <!-- <argument>-Dencoding=ISO-8859-1</argument> --> <!-- -->
										<argument>-Dfile.encoding=ISO-8859-1</argument>
										--&gt; <!-- <argument>-Dfile.encoding=UTF-8</argument> -->
										<argument>-classpath</argument>
										<!-- automatically creates the classpath using all project dependencies,
											also adding the project build directory -->
										<classpath />
										<argument>de.kbv.xpm.modul.ldk.generate.Generate</argument>
										<argument>${project.basedir}/src/main/buildResources/Profile.xml</argument>
									</arguments>
								</configuration>
							</execution>
						</executions>
					</plugin>
					<plugin>
						<groupId>org.apache.maven.plugins</groupId>
						<artifactId>maven-compiler-plugin</artifactId>
						<version>3.12.1</version>
						<executions>
							<!-- nach dem die XDT-Reader Klasse aus dem XML-Schema generiert wurde
								muss diese noch kompiliert werden -->
							<execution>
								<id>recompile</id>
								<phase>generate-test-resources</phase>
								<goals>
									<goal>compile</goal>
								</goals>
								<configuration>
									<!-- includes> <include>**/XDTReader.java</include> </includes> -->
								</configuration>
							</execution>
						</executions>
					</plugin>
				</plugins>
			</build>
		</profile>
		<profile>
			<!-- mvn package -Pgenerate-stamm-all | mvn package -P!generate-stamm-all -->
			<id>assembly-praxisAndKV-modul</id>
			<build>
				<plugins>
					<plugin>
						<!-- NOTE: We don't need a groupId specification because the group
							is org.apache.maven.plugins ...which is assumed by default. -->
						<artifactId>maven-assembly-plugin</artifactId>
						<version>3.6.0</version>
						<executions>
							<execution>
								<id>make-ldk-jar</id> <!-- this is used for inheritance merges -->
								<phase>package</phase> <!-- bind to the packaging phase -->
								<goals>
									<goal>single</goal>
								</goals>
								<configuration>
									<descriptors>
										<descriptor>src/main/buildResources/assembly_ldk_jar.xml</descriptor>
									</descriptors>
									<appendAssemblyId>false</appendAssemblyId>
									<finalName>${project.artifactId}-${project.version}</finalName>
								</configuration>
							</execution>
							<execution>
								<configuration>
									<finalName>XPM-LDK.praxis-${project.version}</finalName>
									<descriptors><descriptor>src/main/buildResources/assembly-praxis-modul.xml</descriptor></descriptors>
									<appendAssemblyId>false</appendAssemblyId>
									<attach>false</attach>
								</configuration>
								<id>make-assembly-praxis</id> <!-- this is used for inheritance merges -->
								<phase>package</phase> <!-- bind to the packaging phase -->
								<goals>
									<goal>single</goal>
								</goals>
							</execution>
							<execution>
								<configuration>
									<finalName>XPM-LDK.KV-${project.version}</finalName>
									<descriptors><descriptor>src/main/buildResources/assembly-kv-modul.xml</descriptor></descriptors>
									<appendAssemblyId>false</appendAssemblyId>
									<attach>false</attach>
								</configuration>
								<id>make-assembly-kv</id> <!-- this is used for inheritance merges -->
								<phase>package</phase> <!-- bind to the packaging phase -->
								<goals>
									<goal>single</goal>
								</goals>
							</execution>
						</executions>
					</plugin>
				</plugins>
			</build>
		</profile>
		<profile>
			<id>spotbugs</id>
			<build>
				<plugins>
					<plugin>
						<groupId>com.github.spotbugs</groupId>
						<artifactId>spotbugs-maven-plugin</artifactId>
						<version>RELEASE</version>
						<configuration>
							<effort>Max</effort>
							<threshold>Low</threshold>
							<failOnError>true</failOnError>
							<includeFilterFile>${project.basedir}/findbugs-security-include.xml</includeFilterFile>
							<excludeFilterFile>${project.basedir}/findbugs-security-exclude.xml</excludeFilterFile>
							<plugins>
								<plugin>
									<groupId>com.h3xstream.findsecbugs</groupId>
									<artifactId>findsecbugs-plugin</artifactId>
									<version>LATEST</version> <!-- Auto-update to the latest stable -->
								</plugin>
							</plugins>
						</configuration>

					</plugin>
				</plugins>
			</build>
		</profile>
	</profiles>
	<build>
		<resources>
			<resource>
				<directory>${project.basedir}/src/main/scripts</directory>
				<filtering>true</filtering>
				<targetPath>../</targetPath>
			</resource>
			<resource>
				<directory>${project.basedir}/src/main/resources</directory>
				<filtering>true</filtering>
			</resource>
			<resource>
				<directory>${project.basedir}/src/main/buildResources</directory>
				<includes>
					<include>releaseNotes-kv/*.*</include>
					<include>releaseNotes-praxis/*.*</include>
					<include>Meldungen.xml</include>
				</includes>
				<filtering>true</filtering>
				<targetPath>../</targetPath>
			</resource>
		</resources>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-release-plugin</artifactId>
				<version>3.1.1</version>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
				<version>3.12.1</version>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-dependency-plugin</artifactId>
				<version>3.6.1</version>
				<executions>
					<execution>
						<id>copy-installed</id>
						<phase>package</phase>
						<goals>
							<goal>copy</goal>
						</goals>
						<configuration>
							<useBaseVersion>true</useBaseVersion>
							<artifactItems>
								<artifactItem>
									<groupId>de.kbv.xpm</groupId>
									<artifactId>xpmJavaVersionCheck</artifactId>
									<version>${xpmJavaVersionCheckVersion}</version>
								</artifactItem>
								<artifactItem>
									<groupId>de.kbv.xpm</groupId>
									<artifactId>xpm-core</artifactId>
									<version>${coreVersion}</version>
								</artifactItem>
								<artifactItem>
									<groupId>de.kbv.xpm</groupId>
									<artifactId>xpm-core</artifactId>
									<classifier>single</classifier>
									<version>${coreVersion}</version>
								</artifactItem>
								<artifactItem>
									<groupId>net.sf.jasperreports</groupId>
									<artifactId>jasperreports-fonts</artifactId>
									<version>6.12.2</version>
								</artifactItem>
							</artifactItems>
							<outputDirectory>${project.build.directory}</outputDirectory>
						</configuration>
					</execution>
					<execution>
						<phase>package</phase>
						<goals>
							<goal>analyze</goal>
						</goals>
					</execution>
				</executions>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-resources-plugin</artifactId>
				<version>3.0.1</version>
				<configuration>
					<encoding>ISO-8859-1</encoding>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-surefire-plugin</artifactId>
				<version>3.0.0-M4</version>
				<configuration>
					<excludes>
						<exclude>**/TestLDKAufrufe.java</exclude>
					</excludes>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.codehaus.mojo</groupId>
				<artifactId>build-helper-maven-plugin</artifactId>
				<version>3.0.0</version>
				<executions>
					<execution>
						<id>attach-artifacts</id>
						<phase>package</phase>
						<goals>
							<goal>attach-artifact</goal>
						</goals>
						<configuration>
							<artifacts>
								<artifact>
									<file>target/XPM-LDK.praxis-${project.version}.zip</file>
									<type>zip</type>
									<classifier>zipArchive</classifier>
								</artifact>
							</artifacts>
						</configuration>
					</execution>
				</executions>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-checkstyle-plugin</artifactId>
				<version>3.4.0</version>
				<executions>
					<execution>
						<id>validatewin</id>
						<phase>validate</phase>
						<configuration>
							<encoding>ISO-8859-1</encoding>
							<consoleOutput>true</consoleOutput>
							<failsOnError>true</failsOnError>
							<linkXRef>false</linkXRef>
							<includes>**\/*.bat</includes>
							<includeResources>true</includeResources>
							<resourceIncludes>**\/*.bat</resourceIncludes>
							<configLocation>src/main/buildResources/checkstylewindows.xml</configLocation>
						</configuration>
						<goals>
							<goal>check</goal>
						</goals>
					</execution>
					<execution>
						<id>validatelinux</id>
						<phase>validate</phase>
						<configuration>
							<encoding>ISO-8859-1</encoding>
							<consoleOutput>true</consoleOutput>
							<failsOnError>true</failsOnError>
							<linkXRef>false</linkXRef>
							<includes>**\/*.sh</includes>
							<includeResources>true</includeResources>
							<resourceIncludes>**\/*.sh</resourceIncludes>
							<configLocation>src/main/buildResources/checkstyle.xml</configLocation>
						</configuration>
						<goals>
							<goal>check</goal>
						</goals>
					</execution>
				</executions>
			</plugin>
		</plugins>
	</build>
	<reporting>
		<plugins>
			<plugin>
				<groupId>org.codehaus.mojo</groupId>
				<artifactId>jdepend-maven-plugin</artifactId>
				<version>2.0</version>
			</plugin>
		</plugins>
	</reporting>
	<dependencies>
		<dependency>
			<groupId>org.bouncycastle</groupId>
			<artifactId>bcprov-jdk18on</artifactId>
			<version>${bcprov-jdk18on.version}</version>
		</dependency>
		<dependency>
			<groupId>org.bouncycastle</groupId>
			<artifactId>bcmail-jdk18on</artifactId>
			<version>${bcprov-jdk18on.version}</version>
		</dependency>
		<!-- Notwendig ab java >8 -->
		<dependency>
			<groupId>javax.xml.bind</groupId>
			<artifactId>jaxb-api</artifactId>
			<version>2.3.1</version>
		</dependency>
		<dependency>
			<groupId>com.sun.xml.bind</groupId>
			<artifactId>jaxb-impl</artifactId>
			<version>2.3.1</version>
		</dependency>
		<dependency>
			<groupId>com.sun.xml.bind</groupId>
			<artifactId>jaxb-core</artifactId>
			<version>2.2.11</version>
		</dependency>
		<dependency>
			<groupId>javax.activation</groupId>
			<artifactId>activation</artifactId>
			<version>1.1.1</version>
		</dependency>
		<dependency>
			<groupId>de.kbv.xpm</groupId>
			<artifactId>xpm-core</artifactId>
			<version>${coreVersion}</version>
			<classifier>single</classifier>
			<exclusions>
				<exclusion>
          			<groupId>xml-apis</groupId>
          			<artifactId>xml-apis</artifactId>
        		</exclusion>
			</exclusions>
		</dependency>

		<dependency>
			<groupId>org.junit.jupiter</groupId>
			<artifactId>junit-jupiter-engine</artifactId>
			<version>5.5.2</version>
			<scope>test</scope>
		</dependency>
			<dependency>
			<groupId>org.junit.platform</groupId>
			<artifactId>junit-platform-launcher</artifactId>
			<version>1.6.0</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.junit.platform</groupId>
			<artifactId>junit-platform-engine</artifactId>
			<version>1.6.0</version>
		</dependency>
		<dependency>
			<groupId>com.google.code.findbugs</groupId>
			<artifactId>annotations</artifactId>
			<version>3.0.1u2</version>
		</dependency>
		<dependency>
			<groupId>org.hamcrest</groupId>
			<artifactId>hamcrest-all</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.mockito</groupId>
			<artifactId>mockito-core</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.powermock</groupId>
			<artifactId>powermock-api-mockito</artifactId>
			<scope>test</scope>
		</dependency>

		<dependency>
			<groupId>org.apache.pdfbox</groupId>
			<artifactId>pdfbox</artifactId>
			<version>2.0.24</version>
		</dependency>
		<dependency>
			<artifactId>validation-model</artifactId>
			<groupId>org.verapdf</groupId>
			<version>1.28.2</version>
		</dependency>


		<!-- Javafx, so, dlls und dylib Dateien sind da, werden über jar assembly
			datei ins ldk jar geschmissen -->
		<!-- WINDOWS -->
		<dependency>
			<groupId>org.openjfx</groupId>
			<artifactId>javafx-controls</artifactId>
			<version>13-ea+9</version>
			<classifier>win</classifier>
		</dependency>
		<dependency>
			<groupId>org.openjfx</groupId>
			<artifactId>javafx-graphics</artifactId>
			<version>13-ea+9</version>
			<classifier>win</classifier>
		</dependency>
		<dependency>
			<groupId>org.openjfx</groupId>
			<artifactId>javafx-base</artifactId>
			<version>13-ea+9</version>
			<classifier>win</classifier>
		</dependency>
		<dependency>
			<groupId>org.openjfx</groupId>
			<artifactId>javafx-fxml</artifactId>
			<version>13-ea+9</version>
			<classifier>win</classifier>
		</dependency>
		<!-- LINUX -->
		<dependency>
			<groupId>org.openjfx</groupId>
			<artifactId>javafx-controls</artifactId>
			<version>13-ea+9</version>
			<classifier>linux</classifier>
		</dependency>
		<dependency>
			<groupId>org.openjfx</groupId>
			<artifactId>javafx-graphics</artifactId>
			<version>13-ea+9</version>
			<classifier>linux</classifier>
		</dependency>
		<dependency>
			<groupId>org.openjfx</groupId>
			<artifactId>javafx-base</artifactId>
			<version>13-ea+9</version>
			<classifier>linux</classifier>
		</dependency>
		<dependency>
			<groupId>org.openjfx</groupId>
			<artifactId>javafx-fxml</artifactId>
			<version>13-ea+9</version>
			<classifier>linux</classifier>
		</dependency>
		<!-- MAC -->
		<dependency>
			<groupId>org.openjfx</groupId>
			<artifactId>javafx-controls</artifactId>
			<version>13-ea+9</version>
			<classifier>mac</classifier>
		</dependency>
		<dependency>
			<groupId>org.openjfx</groupId>
			<artifactId>javafx-graphics</artifactId>
			<version>13-ea+9</version>
			<classifier>mac</classifier>
		</dependency>
		<dependency>
			<groupId>org.openjfx</groupId>
			<artifactId>javafx-base</artifactId>
			<version>13-ea+9</version>
			<classifier>mac</classifier>
		</dependency>
		<dependency>
			<groupId>org.openjfx</groupId>
			<artifactId>javafx-fxml</artifactId>
			<version>13-ea+9</version>
			<classifier>mac</classifier>
		</dependency>

		<!-- Test, sonst Fehler im Eclipse -->
		<dependency>
			<groupId>de.kbv.xpm</groupId>
			<artifactId>xpm-core</artifactId>
			<version>${coreVersion}</version>
			<scope>test</scope>
			<exclusions>
				<exclusion>
          			<groupId>xml-apis</groupId>
          			<artifactId>xml-apis</artifactId>
        		</exclusion>
			</exclusions>
		</dependency>
		<dependency>
			<groupId>de.kbv.xpm</groupId>
			<artifactId>xpmJavaVersionCheck</artifactId>
			<version>${xpmJavaVersionCheckVersion}</version>
		</dependency>
	</dependencies>
	<repositories>
		<repository>
			<id>jfrog</id>
			<url>https://jfrog.kbv.de/artifactory/maven-local-repos</url>
		</repository>
	</repositories>
	<scm>
		<url>https://bitbucket.kbv.de/scm/itasw/xpm-ldk.git</url>
		<connection>scm:git:https://bitbucket.kbv.de/scm/itasw/xpm-ldk.git</connection>
		<developerConnection>scm:git:https://bitbucket.kbv.de/scm/itasw/xpm-ldk.git</developerConnection>
    <tag>HEAD</tag>
  </scm>

</project>